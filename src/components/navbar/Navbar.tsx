import { BiLogOut } from "react-icons/bi";
import { useAppDispatch, useAppSelector } from "../../hooks/reduxHooks";
import { FaRegCircleUser } from "react-icons/fa6";
import { resetMessage, userLogout } from "../../services/auth/authSlice";
import { useEffect } from "react";
import { useNavigate } from "react-router-dom";
export const Navbar: React.FC = () => {
  const { userData, message } = useAppSelector((state) => state.user);
  const dispatch = useAppDispatch();
  const navigate = useNavigate();
  const handleLogout = () => {
    dispatch(userLogout());
  };
  useEffect(() => {
    if (message === "You have been Logged Out") {
      navigate("/", { replace: true });
    }
    return ()=>{
        dispatch(resetMessage())
    }
  }, [message]);

  return (
    <>
      <nav className="bg-[#FAEEFC] md:bg-white h-[3.5rem] flex flex-col md:space-y-4 p-4 md:p-6 fixed inset-0">
        <div className="flex justify-between  items-center">
          <div className="flex justify-around items-center ">
            <svg
              width="29"
              height="29"
              viewBox="0 0 29 29"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.66536 26.5837H19.332C21.9904 26.5837 24.1654 24.4087 24.1654 21.7503V8.45866C24.1654 6.04199 22.4737 4.10866 20.1779 3.74616C19.6945 2.90033 18.8487 2.41699 17.882 2.41699H11.1154C10.1487 2.41699 9.30287 2.90033 8.81953 3.74616C6.5237 4.10866 4.83203 6.04199 4.83203 8.45866V21.7503C4.83203 24.4087 7.00703 26.5837 9.66536 26.5837ZM10.8737 4.95449C10.8737 4.95449 10.9945 4.83366 11.1154 4.83366H18.0029L18.1237 4.95449V5.80033C18.1237 5.92116 18.0029 6.04199 17.882 6.04199H11.1154C10.9945 6.04199 10.8737 5.92116 10.8737 5.80033V4.95449ZM7.2487 8.45866C7.2487 7.49199 7.73203 6.76699 8.45703 6.28366V6.40449C8.45703 6.52533 8.57786 6.64616 8.57786 6.76699C8.57786 6.76699 8.57786 6.88783 8.6987 6.88783C8.6987 7.00866 8.81953 7.12949 8.81953 7.12949L8.94036 7.25033C8.94036 7.37116 9.0612 7.37116 9.18203 7.49199L9.30286 7.61283L9.54453 7.85449L9.66536 7.97533C9.7862 7.97533 9.7862 8.09616 9.90703 8.09616C9.90703 8.09616 10.0279 8.09616 10.0279 8.21699C10.1487 8.21699 10.2695 8.33783 10.3904 8.33783H10.5112C10.7529 8.45866 10.8737 8.45866 11.1154 8.45866H18.607C18.7279 8.45866 18.8487 8.45866 18.9695 8.33783C18.9695 8.33783 19.0904 8.33783 19.0904 8.21699C19.2112 8.21699 19.2112 8.09616 19.332 8.09616L19.4529 7.97533C19.5737 7.97533 19.5737 7.85449 19.6945 7.73366L19.8154 7.61283L20.057 7.37116L20.1779 7.25033C20.1779 7.12949 20.2987 7.12949 20.2987 7.00866C20.2987 7.00866 20.2987 6.88783 20.4195 6.88783C20.4195 6.76699 20.5404 6.64616 20.5404 6.52533V6.40449C21.2654 6.76699 21.7487 7.61282 21.7487 8.57949V21.8712C21.7487 23.2003 20.6612 24.2878 19.332 24.2878H9.66536C8.3362 24.2878 7.2487 23.2003 7.2487 21.8712V8.45866Z"
                fill="#2F2F2F"
              />
              <path
                d="M10.8763 19.333H13.293C14.018 19.333 14.5013 18.8497 14.5013 18.1247C14.5013 17.3997 14.018 16.9163 13.293 16.9163H10.8763C10.1513 16.9163 9.66797 17.3997 9.66797 18.1247C9.66797 18.8497 10.1513 19.333 10.8763 19.333ZM10.8763 14.4997H18.1263C18.8513 14.4997 19.3346 14.0163 19.3346 13.2913C19.3346 12.5663 18.8513 12.083 18.1263 12.083H10.8763C10.1513 12.083 9.66797 12.5663 9.66797 13.2913C9.66797 14.0163 10.1513 14.4997 10.8763 14.4997Z"
                fill="#2F2F2F"
              />
            </svg>

            <h1 className="font-semibold text-base md:text-2xl">TaskBuddy</h1>
          </div>
          <div className="flex items-center gap-x-2">
            {userData?.profileImg && (
              <img
                src={
                  "https://lh3.googleusercontent.com/a/ACg8ocJUFf1HtbcsdFSOEJpkbHUbs3kx-qOc-ILL3w-SNft010y_SQ=s96-c"
                }
                className="w-[35px] h-[35px] rounded-full object-cover"
              />
            )}
            {userData && userData?.name && <span>{userData?.name}</span>}
          </div>
        </div>
        <div className="hidden md:flex gap-4 justify-between">
          <div className="flex gap-4 ">
            <button className="flex justify-center items-center gap-1">
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12.4116 5.59287H3.58984C3.35778 5.59287 3.13522 5.50068 2.97113 5.33659C2.80703 5.17249 2.71484 4.94993 2.71484 4.71787V3.58887C2.71484 3.3568 2.80703 3.13424 2.97113 2.97015C3.13522 2.80605 3.35778 2.71387 3.58984 2.71387H12.4116C12.6437 2.71387 12.8662 2.80605 13.0303 2.97015C13.1944 3.13424 13.2866 3.3568 13.2866 3.58887V4.71787C13.2863 4.94983 13.194 5.1722 13.0299 5.33622C12.8659 5.50024 12.6436 5.59254 12.4116 5.59287ZM3.58984 3.46387C3.55669 3.46387 3.5249 3.47704 3.50146 3.50048C3.47801 3.52392 3.46484 3.55572 3.46484 3.58887V4.71787C3.46484 4.75102 3.47801 4.78281 3.50146 4.80626C3.5249 4.8297 3.55669 4.84287 3.58984 4.84287H12.4116C12.4447 4.84287 12.4765 4.8297 12.5 4.80626C12.5234 4.78281 12.5366 4.75102 12.5366 4.71787V3.58887C12.5366 3.55572 12.5234 3.52392 12.5 3.50048C12.4765 3.47704 12.4447 3.46387 12.4116 3.46387H3.58984ZM12.4116 13.2854H3.58984C3.35778 13.2854 3.13522 13.1932 2.97113 13.0291C2.80703 12.865 2.71484 12.6424 2.71484 12.4104V11.2814C2.71484 11.0493 2.80703 10.8267 2.97113 10.6626C3.13522 10.4986 3.35778 10.4064 3.58984 10.4064H12.4116C12.6436 10.4067 12.8659 10.499 13.0299 10.663C13.194 10.827 13.2863 11.0494 13.2866 11.2814V12.4104C13.2866 12.6424 13.1944 12.865 13.0303 13.0291C12.8662 13.1932 12.6437 13.2854 12.4116 13.2854ZM3.58984 11.1564C3.55669 11.1564 3.5249 11.1695 3.50146 11.193C3.47801 11.2164 3.46484 11.2482 3.46484 11.2814V12.4104C3.46484 12.4435 3.47801 12.4753 3.50146 12.4988C3.5249 12.5222 3.55669 12.5354 3.58984 12.5354H12.4116C12.4447 12.5354 12.4765 12.5222 12.5 12.4988C12.5234 12.4753 12.5366 12.4435 12.5366 12.4104V11.2814C12.5366 11.2482 12.5234 11.2164 12.5 11.193C12.4765 11.1695 12.4447 11.1564 12.4116 11.1564H3.58984ZM12.4116 9.43912H3.58984C3.35778 9.43912 3.13522 9.34693 2.97113 9.18284C2.80703 9.01874 2.71484 8.79618 2.71484 8.56412V7.43512C2.71484 7.20305 2.80703 6.98049 2.97113 6.8164C3.13522 6.6523 3.35778 6.56012 3.58984 6.56012H12.4116C12.6436 6.56045 12.8659 6.65274 13.0299 6.81676C13.194 6.98079 13.2863 7.20315 13.2866 7.43512V8.56412C13.2866 8.79618 13.1944 9.01874 13.0303 9.18284C12.8662 9.34693 12.6437 9.43912 12.4116 9.43912ZM3.58984 7.31012C3.55669 7.31012 3.5249 7.32329 3.50146 7.34673C3.47801 7.37017 3.46484 7.40197 3.46484 7.43512V8.56412C3.46484 8.59727 3.47801 8.62906 3.50146 8.65251C3.5249 8.67595 3.55669 8.68912 3.58984 8.68912H12.4116C12.4447 8.68912 12.4765 8.67595 12.5 8.65251C12.5234 8.62906 12.5366 8.59727 12.5366 8.56412V7.43512C12.5366 7.40197 12.5234 7.37017 12.5 7.34673C12.4765 7.32329 12.4447 7.31012 12.4116 7.31012H3.58984Z"
                  fill="black"
                />
              </svg>
              List
            </button>
            <button className="flex justify-center items-center gap-1 rounded-lg">
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g opacity="0.6">
                  <path
                    d="M12.3636 2H3.63636C3.20237 2 2.78616 2.1724 2.47928 2.47928C2.1724 2.78616 2 3.20237 2 3.63636V12.3636C2 12.7976 2.1724 13.2138 2.47928 13.5207C2.78616 13.8276 3.20237 14 3.63636 14H12.3636C12.7976 14 13.2138 13.8276 13.5207 13.5207C13.8276 13.2138 14 12.7976 14 12.3636V3.63636C14 3.20237 13.8276 2.78616 13.5207 2.47928C13.2138 2.1724 12.7976 2 12.3636 2ZM12.9091 12.3636C12.9091 12.5083 12.8516 12.647 12.7493 12.7493C12.647 12.8516 12.5083 12.9091 12.3636 12.9091H3.63636C3.4917 12.9091 3.35296 12.8516 3.25067 12.7493C3.14838 12.647 3.09091 12.5083 3.09091 12.3636V3.63636C3.09091 3.4917 3.14838 3.35296 3.25067 3.25067C3.35296 3.14838 3.4917 3.09091 3.63636 3.09091H12.3636C12.5083 3.09091 12.647 3.14838 12.7493 3.25067C12.8516 3.35296 12.9091 3.4917 12.9091 3.63636V12.3636ZM11.2727 4.72727V8.54545C11.2727 8.69012 11.2153 8.82886 11.113 8.93115C11.0107 9.03344 10.8719 9.09091 10.7273 9.09091C10.5826 9.09091 10.4439 9.03344 10.3416 8.93115C10.2393 8.82886 10.1818 8.69012 10.1818 8.54545V4.72727C10.1818 4.58261 10.2393 4.44387 10.3416 4.34158C10.4439 4.23929 10.5826 4.18182 10.7273 4.18182C10.8719 4.18182 11.0107 4.23929 11.113 4.34158C11.2153 4.44387 11.2727 4.58261 11.2727 4.72727ZM8.54545 4.72727V11.2727C8.54545 11.4174 8.48799 11.5561 8.38569 11.6584C8.2834 11.7607 8.14466 11.8182 8 11.8182C7.85534 11.8182 7.7166 11.7607 7.61431 11.6584C7.51201 11.5561 7.45455 11.4174 7.45455 11.2727V4.72727C7.45455 4.58261 7.51201 4.44387 7.61431 4.34158C7.7166 4.23929 7.85534 4.18182 8 4.18182C8.14466 4.18182 8.2834 4.23929 8.38569 4.34158C8.48799 4.44387 8.54545 4.58261 8.54545 4.72727ZM5.81818 4.72727V6.90909C5.81818 7.05375 5.76071 7.19249 5.65842 7.29479C5.55613 7.39708 5.41739 7.45455 5.27273 7.45455C5.12806 7.45455 4.98933 7.39708 4.88703 7.29479C4.78474 7.19249 4.72727 7.05375 4.72727 6.90909V4.72727C4.72727 4.58261 4.78474 4.44387 4.88703 4.34158C4.98933 4.23929 5.12806 4.18182 5.27273 4.18182C5.41739 4.18182 5.55613 4.23929 5.65842 4.34158C5.76071 4.44387 5.81818 4.58261 5.81818 4.72727Z"
                    fill="black"
                  />
                </g>
              </svg>
              Board
            </button>
          </div>
          <button
            className="bg-[#FFF9F9]  flex justify-center gap-2 items-center w-[7rem] p-2 rounded-lg font-semibold text-xs border-2 border-[#7B1984]"
            onClick={handleLogout}
          >
            <BiLogOut />
            Logout
          </button>
        </div>
      </nav>
    </>
  );
};
